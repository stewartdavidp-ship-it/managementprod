# Claude Prep â€” App Package Standard

> Convention for preparing app context packages that enable fast, productive Claude sessions.

---

## Package Structure

Every app in the ecosystem follows the same package structure:

```
{app}-project-v{X.X.X}.zip
â””â”€â”€ {app}/
    â”œâ”€â”€ index.html              â† Current source (primary app file)
    â”œâ”€â”€ CONTEXT.md              â† READ FIRST â€” identity, architecture, current state
    â”œâ”€â”€ PROJECT_PLAN.md         â† Roadmap, completed work, decisions, pending
    â”œâ”€â”€ CHANGELOG.md            â† Structured version history (Added/Changed/Fixed)
    â”œâ”€â”€ RELEASE_NOTES.txt       â† Human-readable notes per version
    â”œâ”€â”€ SESSION_BRIEF.md        â† Auto-generated by CC (versions, deploys, issues)
    â””â”€â”€ [sw.js, manifest.json]  â† If PWA app
```

### What Each File Does

| File | Owner | Purpose | Updated When |
|------|-------|---------|--------------|
| `index.html` | Developer | The app source code | Every session that produces code changes |
| `CONTEXT.md` | Developer | Architecture, schemas, conventions, technical decisions | When architecture changes or new patterns are established |
| `PROJECT_PLAN.md` | Developer | Roadmap, completed features, pending work, design decisions | When priorities change or features are completed |
| `CHANGELOG.md` | Developer | Structured history: Added / Changed / Fixed / Removed per version | Every version bump |
| `RELEASE_NOTES.txt` | Developer | Plain-English summary of what changed per version | Every version bump |
| `SESSION_BRIEF.md` | CC (auto) | Current versions, recent deploys, open issues, deploy status | Generated fresh each time by Claude Prep |
| `ARCHITECTURE.md` | Developer | *(Optional)* Component map, data flow, code locations | When architecture changes significantly |

> **ARCHITECTURE.md** is recommended for complex apps (Command Center, Game Shelf, Word Boxing) but not required. For simpler apps, architecture details belong in the "Key Components" section of CONTEXT.md.

### Optional Extra Docs

Complex apps may include additional reference docs beyond the standard four:
- `ARCHITECTURE.md` â€” Component map, data flow, code locations (recommended for apps >5000 lines)
- Domain-specific docs (e.g., `DATA_MODEL.md`, `VOICE_OPTIMIZATION.md`) â€” keep as extras alongside the standard set

These extras are included in Claude Prep packages when present in the repo but are not required for every app.

### Key Principle: Generate Once, Maintain Across Sessions

- **CONTEXT.md** and **PROJECT_PLAN.md** are created once (bootstrapped by CC or written in the first session) and then maintained as living documents. They accumulate knowledge over time.
- **CHANGELOG.md** and **RELEASE_NOTES.txt** are append-only â€” each session adds new entries.
- **SESSION_BRIEF.md** is ephemeral â€” auto-generated by CC from live data every time you run Claude Prep. Never edited manually.
- **index.html** (and sw.js/manifest.json) are fetched from the repo each time.

---

## Doc Templates

### CONTEXT.md Template

```markdown
# {App Name} â€” CONTEXT.md

> **Read this first** at the start of every session.

## Current Version

**v{X.X.X}** â€” Released {date}

## What {App Name} Is

{1-3 sentences describing what this app does and who it's for.}

## Architecture

- **Single-file HTML app**: All CSS/JS inline in index.html
- **Framework**: {React via CDN / vanilla JS / etc.}
- **Data**: {Firebase RTDB / localStorage / none}
- **PWA**: {Yes â€” sw.js + manifest.json / No}
- **Deploy target**: {GitHub Pages URL}

## Key Technical Details

### Meta Tags (Required)
\`\`\`html
<meta name="version" content="{X.X.X}">
<meta name="gs-app-id" content="{app-id}">
\`\`\`

### Data Schema
{Key data structures, Firebase paths, localStorage keys}

### Key Components / Functions
{Map of major components or functions and what they do â€” enough for Claude to navigate the codebase}

## Deployment

- **Repo:** {owner/repo}
- **SubPath:** {if applicable}
- **Structure:** {Single repo / Dual (test â†’ prod)}
- **Deploy type:** {PWA package / Single HTML / etc.}
- **Detection patterns:** {patterns CC uses to identify this app}

## Conventions

{App-specific rules: naming conventions, CSS patterns, state management approach, etc.}

## Recent Changes

{Updated each session â€” brief summary of what changed in the last 1-3 versions}
```

### PROJECT_PLAN.md Template

```markdown
# {App Name} â€” Project Plan

## Mission

{What this app exists to do â€” 1-2 sentences.}

## Completed Features

{Grouped by version or theme. Checkbox list with [x] for done items.}

## In Progress

{What's actively being worked on â€” updated at start/end of each session.}

## Planned Features

### Near Term
{Next 1-3 things to build.}

### Medium Term
{Things on the roadmap but not immediate.}

### Future / Ideas
{Someday/maybe items.}

## Architecture Decisions

{Why key technical choices were made â€” these prevent Claude from re-debating settled questions.}

## Open Questions

{Unresolved design decisions that need input.}
```

### SESSION_BRIEF.md (Auto-Generated by CC)

```markdown
# Session Brief â€” {App Name}
Generated by Command Center on {timestamp}

## Current Status
| Environment | Version | Last Deploy |
|-------------|---------|-------------|
| Test        | {ver}   | {date}      |
| Prod        | {ver}   | {date}      |

## Recent Deploys (Last 5)
| Date | Version | Target | Notes |
|------|---------|--------|-------|
| ...  | ...     | ...    | ...   |

## Open Issues
| # | Title | Severity | Version |
|---|-------|----------|---------|
| ...  | ...  | ...     | ...     |

## App Config
- **Project:** {project name}
- **Type:** {public / internal / other}
- **PWA:** {yes/no}
- **Repos:** {test: ..., prod: ...}
- **SubPath:** {if any}

## Files in This Package
{List of files included with sizes}
```

---

## Where Docs Live in Repos

### Standalone Repos (own repo per app)
```
{repo}/
â”œâ”€â”€ index.html
â”œâ”€â”€ CONTEXT.md
â”œâ”€â”€ PROJECT_PLAN.md
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ RELEASE_NOTES.txt
â”œâ”€â”€ [sw.js, manifest.json, icons/]
â””â”€â”€ [other app files]
```

Apps: Command Center, Test Plan, Firebase Functions, LabelKeeper, Quotle.info, SB Squares, Teacher Assist, Daily Shelf, UI Prototypes

### Consolidated Repo (gameshelf â€” multiple apps share one repo)
```
gameshelf repo:
â”œâ”€â”€ app/                    â† Game Shelf PWA
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ sw.js, manifest.json
â”‚   â””â”€â”€ docs/
â”‚       â”œâ”€â”€ CONTEXT.md
â”‚       â”œâ”€â”€ PROJECT_PLAN.md
â”‚       â”œâ”€â”€ CHANGELOG.md
â”‚       â””â”€â”€ RELEASE_NOTES.txt
â”œâ”€â”€ quotle/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ sw.js, manifest.json
â”‚   â””â”€â”€ docs/
â”‚       â””â”€â”€ ...
â”œâ”€â”€ slate/
â”‚   â””â”€â”€ docs/
â”œâ”€â”€ rungs/
â”‚   â””â”€â”€ docs/
â”œâ”€â”€ wordboxing/
â”‚   â””â”€â”€ docs/
â”œâ”€â”€ beta/
â”‚   â””â”€â”€ docs/
â”œâ”€â”€ landing/
â”‚   â””â”€â”€ docs/
â”œâ”€â”€ terms/                  â† Minimal â€” may not need full doc set
â”œâ”€â”€ privacy/                â† Minimal â€” may not need full doc set
â””â”€â”€ docs/                   â† Shared platform-level docs (STANDARDS.md, etc.)
```

### Which Apps Need Full Doc Sets?

| App | Doc Level | Rationale |
|-----|-----------|-----------|
| Game Shelf | Full (4 docs) | Complex PWA, frequent development |
| Quotle | Full | Active game with unique mechanics |
| Slate | Full | Active game |
| Rungs | Full | Active game |
| Word Boxing | Full | Active game, multiplayer complexity |
| Command Center | Full | Complex internal tool |
| LabelKeeper | Full | Active standalone project |
| Beta Hub | Light (CONTEXT + RELEASE_NOTES) | Simpler app, less frequent changes |
| Landing Page | Light | Mostly static content |
| Test Plan | Light | Internal tool, changes infrequently |
| Firebase Functions | Full | Backend logic, multiple functions |
| Quotle.info | Full | Active project with unique architecture |
| Terms / Privacy | None | Static legal pages |
| SB Squares | Light | Seasonal / infrequent |
| Teacher Assist | Light | Early stage |
| Daily Shelf | Light | Early stage |

---

## Workflow

### Starting a New Session (Claude Prep)

1. In Command Center â†’ Projects, click ğŸ¤– on the app row
2. CC fetches current source + docs from repo via GitHub API
3. CC generates SESSION_BRIEF.md from live data
4. CC bundles everything into `{app}-project-v{X.X.X}.zip`
5. Download and drag into Claude

### During a Session

- Work normally â€” make changes, test, iterate
- No need to regenerate the package between iterations

### Ending a Session

Claude should produce:
1. **Updated source files** (index.html, sw.js if PWA) â€” deploy via CC
2. **Updated RELEASE_NOTES.txt** â€” what changed this session
3. **Updated CHANGELOG.md** â€” structured entries for new version
4. **Updated CONTEXT.md** â€” only if architecture or conventions changed
5. **Updated PROJECT_PLAN.md** â€” only if roadmap or decisions changed

### Returning the Package

Two paths back:
- **Source files** â†’ Deploy through Command Center (Smart Deploy or drag-and-drop)
- **Doc files** â†’ Commit to repo via CC's GitHub API, or include in next session's upload

---

## CC Implementation Notes

### Claude Prep Button Behavior

1. **Fetch file manifest** from repo (respecting subPath for consolidated repos)
2. **Fetch source files**: index.html + sw.js + manifest.json (if PWA)
3. **Fetch doc files**: Look for CONTEXT.md, PROJECT_PLAN.md, CHANGELOG.md, RELEASE_NOTES.txt in:
   - `{subPath}/docs/` (consolidated repos)
   - Root `/` (standalone repos)
4. **Generate SESSION_BRIEF.md** from CC data:
   - App versions (test/prod) from config
   - Last 5 deploys from deploy history filtered by app
   - Open issues from issue tracker filtered by app
   - App config snapshot
5. **Bundle into zip** and trigger download
6. **If docs don't exist**: Generate skeleton CONTEXT.md and PROJECT_PLAN.md pre-filled with what CC knows. Flag to user that these are templates to flesh out.

### Doc Detection Logic

```
For standalone repos (subPath is empty):
  Look for docs at: /CONTEXT.md, /PROJECT_PLAN.md, /CHANGELOG.md, /RELEASE_NOTES.txt

For consolidated repos (subPath is set):
  Look for docs at: /{subPath}/docs/CONTEXT.md, etc.
  Fallback: /{subPath}/CONTEXT.md (flat structure)
```
